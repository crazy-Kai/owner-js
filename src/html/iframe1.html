<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>iframe1</title>
    <link rel="stylesheet" href="/src/css/main.css" type="text/css">
    <script type="text/javascript" charset="utf-8" src="/src/js/libs/jQuery.js"></script>
    <script type="text/javascript" charset="utf-8" src="/src/js/libs/sea.js"></script>
    <script type="text/javascript" charset="utf-8" src="/src/js/libs/seaConfig.js"></script>
</head>

<body>
    <div id="message"></div>
    <script>
    $(function() {
        window.top.postMessage("what are you doing now? ", "http://127.0.0.1:8004")
    })
    window.addEventListener('message', function(event) {
        if (event.origin === "http://127.0.0.1:8004") {

            alert('接收父窗口的数据')
                //$('#message').html( $('#message').html()+ '<br>' +event.data)
                //console.log('in frame',event.data, event.origin);
                // 通过origin属性判断消息来源地址
            $('#message').html($('#message').html() + '<br>' + event.data)
        }
    }, false)
    </script>
</body>

</html>
