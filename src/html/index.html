<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1">
    <!-- 手机头部设置 -->
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <title>react/reflux/Es6</title>
    <!-- 公用的css-->
    <link rel="stylesheet" href="http://wu-xiao-wen.github.io/src/css/main.css" type="text/css">
    <!-- 公用的js-->
    <script type="text/javascript" charset="utf-8" src="http://wu-xiao-wen.github.io/src/js/common/jquery.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="http://wu-xiao-wen.github.io/src/js/common/react.js"></script>
    <script type="text/javascript" charset="utf-8" src="http://wu-xiao-wen.github.io/src/js/common/react-dom.js"></script>
    <script type="text/javascript" charset="utf-8" src="http://wu-xiao-wen.github.io/src/js/common/browser.min.js"></script>
</head>

<body>
    <div id="test" class="lc-center-wrap"></div>
    <script type="text/babel">
    "user strick";
    var data = [{name:"wuxiaowen"},{name:"wukai"},{name:"zp"},{name:"zl"}]; 
    var TableBuild = React.createClass({
       
        	// 这里可以添加初始化方法
        	//初始化state,与gitDefualtProps方法的区别是，每次实例化创建时都会被调用一次，在这方法里，你已经可以访问到this.props
        	getInitialState:function(){
        		return {
        			data:[{name:"wuxiaowen"},{name:"wukai"},{name:"zp"},{name:"zl"}]
        		}
        	},
        	// 此方法对于组建来说只会被调用一次
        	getDefualtProps:function(){
        		return {
        			data:[]
        		}
        	},
        	deleteName:function(e){
        		var self = this,
        		     index = $(e.target).attr("data-index"),
        		     data = self.state.data;
        		     data.splice(index,1);
        		     self.setState({data:data});

        	},
        	editName:function(e){
        		var index = $(e.target).attr("data-index"),
        			self = this;

        			console.log(self,text)

        	},
        	render:function(){
        		//这里可以设置变量
        		//有循环元素的时候必须用key 等于一个变量来区分循环后的每个元素，就相当与给每个tr 加了ID 
        		var self = this;
        		console.log(self);
        		return (
	        			<div className="fn-FS16">
	        					<div width="100%">
									<h1 className="fn-TAC fn-LH30 fn-FS16 fn-FWB">React 基础 练习 </h1>
								</div>	
			        			<table className="fn-table fn-table-text fn-table-border" width="100%">
			        				<thead>
			        					<tr>
			        						<th width="300">
			        							序号
			        						</th>
			        						<th width="300">
			        							名字
			        						</th>
			        						<th>
			        						  	操作
			        						</th>	
			        					</tr>
			        				</thead>
			        				<tbody>

			        					{
			        						this.state.data.map(function(v,i){
			        							return (
			        								<tr key = {i}>
			        									<td width="300">
			        										{++i}
			        									</td >
			        									<td width="300">
			        										{v.name}
			        									</td>
			        									<td>
			        										<button className="fn-btn fn-btn-primary fn-MR10" data-index = {i} onClick = {self.editName} >编辑</button>
			        										<button className="fn-btn fn-btn-primary" data-index = {i} onClick = {self.deleteName}  >删除</button>
			        									</td>
			        								</tr>

			        								)
			        						})	

			        						}
			        				</tbody>	

			        			</table>

			        			<div className = "fn-MT20 fn-W300 fn-LH30 fn-MT20 ">
									<input  ref="myInput" type="text" className="fn-input-text" placeholder="请输入姓名" maxLength="20"/>
									<button className="fn-btn fn-btn-default fn-LH28">增加</button>
								</div>
						</div>
        			)
        	}
     });
	
	
        ReactDOM.render(<TableBuild  />,
        	document.getElementById("test")
        	)
    </script>

</body>

</html>
