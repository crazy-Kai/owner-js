"use strict";define("src/bus/suit/filing/registeredCorporate/main",["bus/global/main","common/validator","model/ajax/main","model/modal/main","model/upload/main","model/perChecked/main","model/imgView/main","model/addLawyer/main"],function(require,exports,module){function hideSomeInput(){$('#page-param [type="text"]').each(function(){hideSecretInput($(this))})}function showSomeInput(){$('#page-param [type="text"]').removeClass("fn-hide")}function hideSecretInput(node){var val=node.val(),dVal=node.prop("defaultValue");val&&val===dVal&&node.addClass("fn-hide")}require("bus/global/main");var Validator=require("common/validator"),pageCheck=$("#page-check"),Ajax=require("model/ajax/main"),Modal=require("model/modal/main"),Upload=require("model/upload/main"),PerChecked=require("model/perChecked/main"),ImgView=require("model/imgView/main"),AddLawyer=require("model/addLawyer/main");new ImgView;var validatorExp=Validator.use("#page-param");Upload.use(".JS-need-upload"),new AddLawyer,pageCheck.length&&new PerChecked({element:pageCheck}).after("psCheckedNext",function(flag){flag&&new Ajax({element:"#page-param",paramParse:function(json){for(var i in json)json[i].indexOf("*")!==-1&&delete json[i];return json},events:{"click .JS-trigger-click-submit":function(){var meAjax=this;hideSomeInput(),validatorExp.execute(function(flag){showSomeInput(),flag||Modal.confirm("提示 ","提交后无法修改，确认提交么？",function(){meAjax.submit()},function(){meAjax.destroy()})})}}}).on("ajaxSuccess",function(){location.reload(!0)})}),$("#page-param").find("table").on("blur",'input[type="text"]',function(){hideSecretInput($(this))}),$("body").on("blur",'input[type="text"]',function(){$(this).removeClass("fn-hide")})});