"use strict";define("src/bus/suit/oppugn/evidenceOppugnEnd/main",["bus/global/main","common/jquery","common/myWidget","model/tab/main","model/countDown/main","model/perSearch/main","model/imgView/main"],function(require,exports,module){require("bus/global/main");var $=require("common/jquery"),MyWidget=require("common/myWidget"),Tab=require("model/tab/main"),CountDown=require("model/countDown/main"),ImgView=(require("model/perSearch/main"),require("model/imgView/main")),EvidenceOppugnEnd=MyWidget.extend({clssName:"EvidenceOppugnEnd",attrs:{element:"body",fixClassName:"go-nav-fix"},events:{},initProps:function(){var me=this;me.evidenceOppugnNav=me.$("#evidenceOppugnNav");var offset=me.evidenceOppugnNav.offset()||{};me.tabTop=offset.top||0,me.tabExp=new Tab({element:"#evidenceOppugnMain"}).on("chose",function(){$(window).trigger("scroll"),me.winScrollY()>me.tabTop&&me.winScrollY(me.tabTop)}),me.imgViewExp=new ImgView},setup:function(){var me=this;me.setCountDown(),me.delegateEvents(window,"scroll",function(){me.winScrollY()>me.tabTop?me.evidenceOppugnNav.addClass(me.get("fixClassName")):me.evidenceOppugnNav.removeClass(me.get("fixClassName"))}),$(window).trigger("scroll")},destroy:function(){var me=this;me.tabExp.destroy(),me.imgViewExp.destroy()},setCountDown:function(){var intervalID,me=this,node=me.$(".JS-need-count-down"),endTime=node.data("endTime"),countDownExp=new CountDown({target:endTime});return intervalID=setInterval(function(){var data=countDownExp.use();return data?void node.html('<span class="fn-color-F00">'+data.day+'</span>天 <span class="fn-color-F00">'+data.hour+'</span>时 <span class="fn-color-F00">'+data.minute+'</span>分 <span class="fn-color-F00">'+data.second+"</span>秒</span>"):clearInterval(intervalID)},1e3),me}});module.exports=EvidenceOppugnEnd});
"use strict";define("common/jquery",[],function(require,exports){return jQuery});